requirejs.config({baseUrl:"js/krusty-minimal"});define(["libs/springfield/QuickStartConnector","app/QSResponseParser","app/VideoElementCreator"],function(c,b,a){(function(i){var h=null;var e=null;var g=null;jQuery.fn.krusty=function(j){if(d[j]){console.log(d);return d[j].apply(this,Array.prototype.slice.call(arguments,1))}else{if(typeof j==="object"||!j){return d.init.apply(this,arguments)}else{i.error("Method "+j+" does not exist on jQuery.krustyMinimal")}}};function f(k,j){j.on("loadstart",function(){i(k).trigger("loadstart")});j.on("playing",function(){i(k).trigger("playing")});j.on("pause",function(){i(k).trigger("pause")})}var d={init:function(k){var j=this;var l=c({uri:k.uri,success:function(o){var q=b({data:o});var m=q.getSources();var p=q.getScreenshot();var n=a({videos:m,quality:k.quality});h=n.create();f(j,h);h.width(i(j)[0].clientWidth);h.height(i(j)[0].clientHeight);e=i(document.createElement("img"));e.attr("class","bgImage");e.attr("src",p);e.attr("width",h[0].clientWidth);e.attr("height",h[0].clientHeight);g=i(document.createElement("div"));g.attr("class","playIcon");g.on("click",function(){h[0].play()});h.on("play",function(){g.hide();e.hide()});i(j).append(h);i(j).append(e);i(j).append(g);g.css("left",((h.width()/2)-(g.width()/2))+"px");g.css("top",((h.height()/2)-(g.height()/2))+"px")}})},resize:function(){h.width(i(self)[0].clientWidth);h.height(i(self)[0].clientHeight);e.attr("width",h[0].clientWidth);e.attr("height",h[0].clientHeight);g.css("left",((h.width()/2)-(g.width()/2))+"px");g.css("top",((h.height()/2)-(g.height()/2))+"px")}};jQuery.holdReady(false)})(jQuery)});